(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1306:
/*!***************************************************!*\
  !*** ../player/components/media/video/Video.scss ***!
  \***************************************************/
/*! no static exports found */
/*! exports used: hideCursor, hideVideo, video */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,c){e.exports={video:"_1l-KU",hideCursor:"_3OgU3",hideVideo:"_3-9KU"}},950:
/*!**************************************************************!*\
  !*** ../player/components/media/video/Video.tsx + 3 modules ***!
  \**************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../player/components/utils/customHooks/usePostRoll.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../player/components/utils/customHooks/usePrevious.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../player/components/utils/customHooks/useShouldRenderCaptions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../player/components/utils/customHooks/useStoreSelector.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../player/components/utils/saveUserInteraction.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../player/components/utils/userBrowserChecker/UserBrowserChecker.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../player/state/playback/actions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../player/state/ui/actions.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../player/state/ui/thunks.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../player/components/media/video/Video.scss (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-redux/es/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../player/node_modules/unfetch/dist/unfetch.mjs */function(e,t,c){"use strict";var ce=c(366),ne=c.n(ce),re=c(369),n=c(371),ae=c.n(n),ue=c(520),oe=c(368),be=c(396),ie=c(378),se=c(374),je=c(904),o=c(135);function b(e){return"track-"+e.id}function Oe(){var r=Object(re.d)(function(e){var t=e.playback.currentChapter;return e.config.chapters[t].captions}),a=Object(re.d)(function(e){e=e.config.userBrowser;return Object(be.d)(e)}),e=Object(ce.useState)({}),t=e[0],u=e[1];return Object(ce.useEffect)(function(){for(var n={},e=0,t=r;e<t.length;e++)!function(t){a?Object(o.a)(t.vttUrl,{method:"GET"}).then(function(e){return e.blob()}).then(function(e){n[b(t)]=URL.createObjectURL(e)}):n[b(t)]=t.vttUrl}(t[e]);return u(n),function(){if(a)for(var e=0,t=r;e<t.length;e++){var c=t[e];URL.revokeObjectURL(n[b(c)]),u({})}}},[r,a]),ne.a.createElement(ne.a.Fragment,null,r.map(function(e){return ne.a.createElement("track",{id:b(e),key:e.id,kind:"captions",label:e.name,srcLang:e.language,src:t[b(e)]})}))}var i=c(903);function fe(n){var r=Object(re.c)(),a=Object(oe.c)("canPlay"),u=Object(oe.c)("caption"),o=Object(i.a)();Object(ce.useEffect)(function(){var e;if(a){var c=null===(e=n.current)||void 0===e?void 0:e.textTracks;if(c)for(var t=0;t<c.length;t++)!function(e){var t=c[e];o&&null!==u&&t.id===b(u)?(t.oncuechange=function(){var e=Array.from(t.activeCues);r(Object(ie.b)(e))},t.mode="hidden"):"disabled"!==t.mode&&(t.mode="disabled")}(t)}},[u,o,a,r,n])}var le=function(){for(var e=0,t=0,c=arguments.length;t<c;t++)e+=arguments[t].length;for(var n=Array(e),r=0,t=0;t<c;t++)for(var a=arguments[t],u=0,o=a.length;u<o;u++,r++)n[r]=a[u];return n};var de=c(1306),ve=c(430),pe=c(650);t.a=Object(ce.forwardRef)(function(t,e){var u=Object(re.c)(),c=Object(oe.b)("pauseDisabled"),n=Object(oe.b)("chapterLoop"),r=Object(oe.b)("redirectWholePage"),a=Object(oe.b)("redirectUrl"),o=Object(oe.b)("disableRedirect"),b=Object(oe.b)("onComplete"),i=Object(oe.b)("background"),s=Object(oe.b)("userBrowser"),j=Object(oe.b)("disableCtas"),O=Object(oe.b)("preload"),f=Object(oe.b)("autoplay"),l=Object(oe.b)("firstFrame"),d=Object(oe.c)("currentChapter"),v=Object(oe.c)("paused"),p=Object(oe.c)("mute"),k=Object(oe.c)("seekTo"),h=Object(oe.c)("seekFrom"),m=Object(oe.c)("speed"),y=Object(oe.c)("volume"),g=Object(oe.c)("canPlay"),w=Object(oe.c)("time"),E=Object(oe.c)("duration"),C=Object(oe.c)("captionsEnabled"),D=Object(oe.c)("playerPlayed"),P=Object(oe.d)("splashScreen"),R=Object(oe.d)("userActive"),T=Object(oe.d)("fullscreen"),U=Object(ve.a)(),A=Object(oe.d)("fullscreenEvent"),x=Object(ce.useState)(!0),L=x[0],M=x[1],S=Object(re.d)(function(e){var t=e.playback.currentChapter;return e.config.chapters[t].name}),F=Object(re.d)(function(e){return 0===e.playback.currentChapter}),I=Object(re.d)(function(e){return e.playback.currentChapter===e.config.chapters.length-1}),_=Object(re.d)(function(e){var t=e.ui,e=t.userActive,t=t.controlsLocked;return!e&&!t}),B=Object(re.d)(function(e){var t=e.ui.playerDimensions;return e.playback.duration/t.width}),G=Object(re.d)(function(e){return!(null===(e=e.ui.eventState[null==U?void 0:U.id])||void 0===e||!e.playDisabled)}),H=Object(re.d)(function(e){return null===(e=e.ui.eventState[null==U?void 0:U.id])||void 0===e?void 0:e.dismissed}),J=Object(pe.a)(H),K=U&&"vyFreePostRoll"===U.eventType,x=Object(re.d)(function(e){e=e.config.userBrowser;return!Object(be.c)(e)||g}),N=Object(ce.useRef)(null),V=Object(ce.useRef)(v),W=Object(ce.useRef)(),q=Object(ce.useRef)();Object(ce.useImperativeHandle)(e,function(){return N.current});var z={start:function(){N.current&&(Math.abs(N.current.currentTime-w)>=B&&u(Object(ie.I)(N.current.currentTime)),W.current=window.requestAnimationFrame(function(){var e;return null===(e=q.current)||void 0===e?void 0:e.start()}))},stop:function(){null!=W.current&&cancelAnimationFrame(W.current),W.current=void 0}};Object(ce.useEffect)(function(){q.current=z},[z]);var Q=Object(ce.useCallback)(function(){var e;g&&(v?null!==(e=N.current)&&void 0!==e&&e.pause():(e=null===(e=N.current)||void 0===e?void 0:e.play())instanceof Promise?e.catch(function(){var e;!V.current&&N.current&&N.current.paused&&!N.current.muted&&2!==f?u(Object(ie.l)()):2===f&&L&&N.current&&((Object(be.j)(s)||Object(be.h)(s))&&(e=N.current.src,N.current.src="",N.current.src=e),u(Object(ie.j)()),u(Object(se.y)()))}).finally(function(){var e;M(!1),(Object(be.j)(s)||Object(be.h)(s))&&null!==(e=N.current)&&void 0!==e&&e.play()}):M(!1))},[g,v,f,L,u,s]);Object(ce.useEffect)(function(){0<f&&!P&&u(Object(ie.k)())},[f,P,u]),Object(ce.useEffect)(function(){var e;0!==f||l||P||null!==(e=N.current)&&void 0!==e&&e.focus()},[f,l,P]),Object(ce.useEffect)(function(){Q()},[Q]),Object(ce.useEffect)(function(){V.current=v},[v]),Object(ce.useEffect)(function(){N.current&&(N.current.muted=p)},[p]),Object(ce.useEffect)(function(){var e;null!==(e=N.current)&&void 0!==e&&e.paused&&!v&&p&&Q()},[p,v,Q]),Object(ce.useEffect)(function(){g&&0<=k&&N.current&&k<=N.current.duration&&(Number.isFinite(k)&&(N.current.currentTime=k,u(Object(ie.I)(k))),u(Object(ie.r)()))},[g,k,u]),Object(ce.useEffect)(function(){N.current&&(N.current.volume=y)},[y]),Object(ce.useEffect)(function(){g&&N.current&&(N.current.playbackRate=m)},[g,m]),Object(ce.useEffect)(function(){return function(){u(Object(ie.y)(!1))}},[u]);var X,Y,Z,$,ee=Object(ce.useCallback)(function(){if(n)return u(Object(ie.h)()),u(Object(ie.a)()),void Q();if(!I)return u(Object(ie.t)(d+1)),void u(Object(ie.a)());switch(u(Object(ie.m)()),u(Object(je.b)(0)),b){case"redirect_url":o?(u(Object(se.y)()),u(Object(se.n)(!1)),u(Object(ie.o)()),u(Object(ie.a)())):r?setTimeout(function(){window.top.location.replace(a)},1e3):setTimeout(function(){window.location.replace(a)},1e3);break;case"final_frame":u(Object(ie.j)()),u(Object(se.n)(!1));break;case"loop":u(Object(ie.i)()),u(Object(ie.a)()),Q();break;case"splash_screen":u(Object(se.y)()),u(Object(se.n)(!1)),u(Object(ie.o)()),u(Object(ie.a)())}},[n,d,u,I,b,a,r,o,Q]);Object(ce.useEffect)(function(){G||!1!==J||!H||K||ee()},[ee,G,H,J,K]),Object(ce.useEffect)(function(){u(Object(je.c)(d))},[d,u]),fe(N),X=Object(oe.b)("pauseDisabled"),Y=Object(oe.b)("hiddenControls"),Z=Object(oe.b)("userBrowser"),$=Object(re.c)(),Object(ce.useEffect)(function(){if(navigator.mediaSession){var e=X||Y?[]:[["play",function(){return $(Object(ie.k)())}],["pause",function(){return $(Object(ie.j)())}],["stop",null],["seekbackward",null],["seekforward",null],["seekto",null]];Object(be.h)(Z)&&(e=le(e,[["play",function(){return null}],["pause",function(){return null}]])),X&&(e=le(e,[["play",function(){}],["stop",function(){}],["pause",function(){}]]));for(var t=0,c=e=Y?le(e,[["seekbackward",function(){}],["seekforward",function(){}],["seekto",function(){}]]):e;t<c.length;t++){var n=c[t],r=n[0],n=n[1];try{navigator.mediaSession.setActionHandler(r,n)}catch(e){}}}},[X,Y,Z,$]);function te(){var e;(Object(be.h)(s)||Object(be.f)(s)||Object(be.j)(s))&&Object(ue.a)(),c||u((v?Object(ie.k):Object(ie.j))()),null!==(e=N.current)&&void 0!==e&&e.focus()}e=ae()(de.video,((e={})[de.hideCursor]=_,e[de.hideVideo]=P,e));return ne.a.createElement("video",{"aria-label":S,preload:O,crossOrigin:"anonymous",ref:N,className:e,style:{backgroundColor:i},playsInline:!0,onDurationChange:function(){N.current&&isFinite(N.current.duration)&&u(Object(ie.e)(N.current.duration))},onTimeUpdate:function(){-1===k&&N.current&&u(Object(ie.I)(N.current.currentTime))},onContextMenu:function(e){e.preventDefault()},onClick:function(){te()},onKeyDown:function(e){switch(e.key){case"Enter":case"Spacebar":case" ":case"k":te();break;case"ArrowLeft":e.preventDefault(),u(Object(ie.s)(Math.max(w-5,0)));break;case"ArrowRight":e.preventDefault(),u(Object(ie.s)(Math.min(w+5,E)));break;case"ArrowUp":e.preventDefault(),u(Object(ie.G)(Math.min(y+.1,1)));break;case"ArrowDown":e.preventDefault(),u(Object(ie.G)(Math.max(y-.1,0)));break;case"m":u(Object(ie.J)());break;case"j":u(Object(ie.s)(Math.max(w-10,0)));break;case"l":u(Object(ie.s)(Math.min(w+10,E)));break;case"<":u(Object(ie.C)(Math.max(m-.5,.5)));break;case">":u(Object(ie.C)(Math.min(m+.5,2)));break;case"Home":case"0":u(Object(ie.s)(0));break;case"End":u(Object(ie.s)(E));break;case"1":u(Object(ie.s)(.1*E));break;case"2":u(Object(ie.s)(.2*E));break;case"3":u(Object(ie.s)(.3*E));break;case"4":u(Object(ie.s)(.4*E));break;case"5":u(Object(ie.s)(.5*E));break;case"6":u(Object(ie.s)(.6*E));break;case"7":u(Object(ie.s)(.7*E));break;case"8":u(Object(ie.s)(.8*E));break;case"9":u(Object(ie.s)(.9*E));break;case"f":u(Object(se.n)(!T));break;case"c":var t={setByUser:!0};u((C?Object(ie.c):Object(ie.f))(t));break;case"N":I||(u(Object(ie.t)(d+1)),u(Object(ie.a)()));break;case"P":F||(u(Object(ie.t)(d-1)),u(Object(ie.a)()))}},onEnded:function(){z.stop(),!j&&U||ee(),(Object(be.j)(s)||Object(be.h)(s))&&u(Object(ie.e)(N.current.duration))},onPause:function(){var e;!c||A?z.stop():null!==(e=N.current)&&void 0!==e&&e.play()},onPlay:function(){v||u(Object(ie.k)()),z.start()},onCanPlayThrough:function(){u(Object(ie.x)(!1))},onCanPlay:function(){u(Object(ie.y)(!0))},onSeeked:function(){h!==k&&u(Object(je.b)(w))},onProgress:function(){if(N.current)for(var e=N.current,t=e.buffered,c=e.currentTime,n=e.duration,r=0;r<t.length;r++)if(t.start(t.length-1-r)<c){var a=t.end(t.length-1-r)/n;u(Object(ie.A)(a));break}},onWaiting:function(){u(Object(ie.x)(!0))},onPlaying:function(){var e;D||u(Object(ie.D)(!0)),u(Object(ie.x)(!1)),null!==(e=t.onPlaying)&&void 0!==e&&e.call(t)},onLoadedData:function(){var e;null!==(e=t.onLoadedData)&&void 0!==e&&e.call(t)},"data-testid":t.testDataId||"video",tabIndex:R?-1:0},x&&ne.a.createElement(Oe,null))})}}]);